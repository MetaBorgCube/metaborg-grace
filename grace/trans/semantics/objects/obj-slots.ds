module trans/semantics/objects/obj-slots

imports
  trans/semantics/objects/obj-repr
  semantics/signatures
//  trans/semantics/statements

rules

  DObj DObj(S) |- SlotRead(ID(s)) --> attrs[s]
  where
    read(S) --> Obj(_, _, attrs)
  
  DObj DObj(S) |- SlotWrite(ID(s), e) --> DoneV()
  where
    e --> v;
    read(S) --> Obj(O, parents, attrs);
    update(S, Obj(O, parents, {s |--> v, attrs})) --> _



