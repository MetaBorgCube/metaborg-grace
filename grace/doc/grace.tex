\documentclass[a4paper,UKenglish]{lipics-v2016}
%This is a template for producing LIPIcs articles. 
%See lipics-manual.pdf for further information.
%for A4 paper format use option "a4paper", for US-letter use option "letterpaper"
%for british hyphenation rules use option "UKenglish", for american hyphenation rules use option "USenglish"
% for section-numbered lemmas etc., use "numberwithinsect"
 
\usepackage{microtype}%if unwanted, comment out or use option "draft"

%\graphicspath{{./graphics/}}%helpful if your graphic files are in another directory

\bibliographystyle{plainurl}% the recommended bibstyle

% Author macros::begin %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{A runtime for Grace: Readable Specification and Implementation in One\footnote{submitted in partial fulfilment of the requirements for the degree of Master of Science in Computer Science, to be defended on \dots }}
\titlerunning{A runtime for Grace} %optional, in case that the title is too long; the running title should fit into the top page column

%% Please provide for each author the \author and \affil macro, even when authors have the same affiliation, i.e. for each author there needs to be the  \author and \affil macros
\author[1]{Michiel Haisma}
\affil[1]{Department of Programming Languages, Faculty EEMCS\\ Delft University of Technology, Mekelweg 4 Delft, The Netherlands\\
  \texttt{m.a.haisma@student.tudelft.nl}\\ Student number: 1512285}
\authorrunning{M.\,A. Haisma} %mandatory. First: Use abbreviated first/middle names. Second (only in severe cases): Use first author plus 'et. al.'

\Copyright{Michiel Haisma}%mandatory, please use full first names. LIPIcs license is "CC-BY";  http://creativecommons.org/licenses/by/3.0/

\subjclass{D.3.4 Interpreters F.3.1 Specification Techniques F.3.2 Operational Semantics}% mandatory: Please choose ACM 1998 classifications from http://www.acm.org/about/class/ccs98-html . E.g., cite as "F.1.1 Models of Computation". 
\keywords{runtime, interpreter, language prototyping, grace, dynamic semantics}% mandatory: Please provide 1-5 keywords
% Author macros::end %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%Editor-only macros:: begin (do not touch as author)%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\EventEditors{John Q. Open and Joan R. Acces}
\EventNoEds{2}
\EventLongTitle{42nd Conference on Very Important Topics (CVIT 2016)}
\EventShortTitle{CVIT 2016}
\EventAcronym{CVIT}
\EventYear{2016}
\EventDate{December 24--27, 2016}
\EventLocation{Little Whinging, United Kingdom}
\EventLogo{}
\SeriesVolume{42}
\ArticleNo{23}
% Editor-only macros::end %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

\begin{abstract}
Many modern language implementations are not relatable to their formal language semantics specification, due to the large amount of implementation details and overhead. With the advent of DynSem~\cite{vergu2015dynsem} in the Spoofax~\cite{Kats:2010:SLW:1869459.1869497} language engineering workbench it is now possible to create a language implementation purely from formal language specifications: Grammars, transformation rules and operational semantics and create a fully fledged language implementation. This work presents a language implementation of the (untyped version of the) object oriented language Grace~\cite{Black:2012:GAD:2384592.2384601, gracelang}. This implementation includes IDE features such as syntax-highlighting and error reporting and has a parser, transformer and an interpreter with JIT compiler based on Truffle~\cite{Wimmer:2012:TSR:2384716.2384723,Wurthinger:2012:SAI:2384577.2384587} and Graal~\cite{Wurthinger:2013:OVR:2509578.2509581}.
\end{abstract}

\section{Preface}
Mandatory for thesis reports
The thesis report contains a preface that explains the topic of the thesis, the context (institute or company), the main findings in a few lines and the names of the members of the thesis committee. The preface may end with a few acknowledgements, and completed with name and date.

\section{Introduction}
The Spoofax implementation of Grace consists of three major parts: Parsing, Transforming and Evaluation.

In the parsing step the input program in parsed into an AST.

In the transformation step the input AST is desugared and transformed into the Grace-lowered language (Grace-l) (which can be seen as an intermediate representation, or a core-language). 

In the third step the Grace-l AST is interpreted by an AST interpreter, which is generated from the DynSem specification, and is based on the Truffle framework and can be run on a normal JVM~\cite{jvm} or the Graal VM.

In each of the following sections we will highlight the steps, with a focus on the dynamic semantics.

Notable absent features:
\begin{itemize}
	\item Newlines as statement ending
	\item Indentation constraints
	\item Types
	\item Static analysis
	\item \dots
\end{itemize}

\section{Parsing}
lalala

\begin{lstlisting}[caption={Useless code},label=list:8-6,captionpos=t,float,abovecaptionskip=-\medskipamount]
for i:=maxint to 0 do 
begin 
    j:=square(root(i));
end;
\end{lstlisting}

\subsection{Transformation}
nother subsection

\section{Program Evaluation}
Evaluating Grace programs lalal

\subsection{Dynamic Semantics of Grace}
In this sect

\section{Evaluation}
The implementation was tested with the same test-cases that is used for the Minigrace~\cite{minigrace} self-hosted compiler. These cases were executed by a parametric JUnit~\cite{junit} testrunner, that recursively scans a subdirectory of the interpreter project and automatically creates testcases for all found \verb!*.grace! and corresponding \verb!.output! files. This project, in addition to it's own \dots tests, passes \dots \% of the tests as specified by Minigrace. Notable tests that are not passing are tests that include some form of typing.

Maybe a notion of performance/speed.

\section{Related work}
The thesis report contains a chapter with prior art that describes previous work and scientific publications relevant for the topic. This chapter reformulates the research questions in a form that complies with the state of the art in the field.

\section{Discussion}
The thesis report concludes with a concluding chapter with a discussion of the results, and recommendations and suggestions for future research.



\subparagraph*{Acknowledgements.}

I hereby thank Vlad Vergu for his work on DynSem and support of the Grace implementation; Andrew Black for assisting with the formalization of Grace object construction; Timothy Jones for his helpful tips on implementing Grace. Eelco Visser for his guidance and support; All members of the Programming Language department of Delft University of Technology for their help and company; \dots

\appendix
\section{Full semantics specification}
The following code fragments specify the whole of the Grace dynamic semantics, and it's interpreter:
\subsection{semantics.ds (main semantics)}
\lstinputlisting{../trans/semantics/semantics.ds}
\subsection{values.ds}
\lstinputlisting{../trans/semantics/values.ds}
\subsection{store.ds}
\lstinputlisting{../trans/semantics/store.ds}
\subsection{lookup.ds}
\lstinputlisting{../trans/semantics/lookup.ds}
\subsection{context.ds}
\lstinputlisting{../trans/semantics/context.ds}

\section{SDF3 Grammar of untyped Grace}
The following code fragments specify the syntax of untyped Grace.

\subsection{grace.sdf3}
\lstinputlisting{../syntax/grace.sdf3}
\subsection{general.sdf3}
\lstinputlisting{../syntax/general.sdf3}
\subsection{keywordRejections.sdf3}
\lstinputlisting{../syntax/keywordRejections.sdf3}

\section{SDF3 Grammar of Grace-lowered}
The following code fragments specify the syntax of the Grace-lowered language, which can be seen as a core-language of Grace.

\subsection{grace-lowered.sdf3}
\lstinputlisting{../syntax/grace-lowered.sdf3}

%%
%% Bibliography
%%

%% Either use bibtex (recommended), 

\bibliography{grace-bib}

%% .. or use the thebibliography environment explicitely



\end{document}
